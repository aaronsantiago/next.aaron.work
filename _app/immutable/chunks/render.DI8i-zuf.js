import{f as O,i as k,h as H,j as T,k as I,H as L,l as V,m as E,s as m,o as A,p as M,q as y,t as Y,v as q,w as B,x as C,y as P,z as $,A as j,B as b,C as z,D as W,E as F,c as G}from"./runtime.BVMQg276.js";import{b as J}from"./disclose-version.BMV8cMsZ.js";const K=new Set,D=new Set;function v(r){var S;var t=this,i=t.ownerDocument,l=r.type,o=((S=r.composedPath)==null?void 0:S.call(r))||[],e=o[0]||r.target,f=0,c=r.__root;if(c){var u=o.indexOf(c);if(u!==-1&&(t===document||t===window)){r.__root=t;return}var d=o.indexOf(t);if(d===-1)return;u<=d&&(f=u)}if(e=o[f]||r.target,e!==t){O(r,"currentTarget",{configurable:!0,get(){return e||i}});try{for(var _,a=[];e!==null;){var s=e.parentNode||e.host||null;try{var n=e["__"+l];if(n!==void 0&&!e.disabled)if(k(n)){var[g,...p]=n;g.apply(e,[r,...p])}else n.call(e,r)}catch(w){_?a.push(w):_=w}if(r.cancelBubble||s===t||s===null)break;e=s}if(_){for(let w of a)queueMicrotask(()=>{throw w});throw _}}finally{r.__root=t,delete r.currentTarget}}}const Q=["wheel","mousewheel","touchstart","touchmove"];function U(r){return Q.includes(r)}function rr(r,t){t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t==null?"":t+"")}function X(r,t){const i=t.anchor??t.target.appendChild(H());return N(r,{...t,anchor:i})}function tr(r,t){T(),t.intro=t.intro??!1;const i=t.target,l=b,o=y;try{for(var e=I(i);e&&(e.nodeType!==8||e.data!==L);)e=V(e);if(!e)throw E;m(!0),A(e),M();const f=N(r,{...t,anchor:e});if(y===null||y.nodeType!==8||y.data!==Y)throw q(),E;return m(!1),f}catch(f){if(f===E)return t.recover===!1&&B(),T(),C(i),m(!1),X(r,t);throw f}finally{m(l),A(o)}}const h=new Map;function N(r,{target:t,anchor:i,props:l={},events:o,context:e,intro:f=!0}){T();var c=new Set,u=a=>{for(var s=0;s<a.length;s++){var n=a[s];if(!c.has(n)){c.add(n);var g=U(n);t.addEventListener(n,v,{passive:g});var p=h.get(n);p===void 0?(document.addEventListener(n,v,{passive:g}),h.set(n,1)):h.set(n,p+1)}}};u(P(K)),D.add(u);var d=void 0,_=$(()=>(j(()=>{if(e){z({});var a=G;a.c=e}o&&(l.$$events=o),b&&J(i,null),d=r(i,l)||{},b&&(W.nodes_end=y),e&&F()}),()=>{for(var a of c){t.removeEventListener(a,v);var s=h.get(a);--s===0?(document.removeEventListener(a,v),h.delete(a)):h.set(a,s)}D.delete(u),R.delete(d)}));return R.set(d,_),d}let R=new WeakMap;function er(r){const t=R.get(r);t&&t()}export{tr as h,X as m,rr as s,er as u};
